#:kivy 1.10.1

#version application 0.2
ScreenManagement:
    
    EcranPremier:
    EcranFct:
    
    
<EcranPremier>:
    BoxLayout:
        
        
        Button:
            
            text: "Ouvrir un fichier"
            font_size: "40sp"
            on_release: root.manager.current = 'ecran_principale'
<EcranFct>:
    name: 'ecran_principale'
    GridLayout:    
        id: ecranfct
        spacing: 10
        padding: 10
        cols: 1
        rows: 3
        titre: "Echantillon"
        corps:""

                                    
        BoxLayout:
                                        
                                        
            size_hint_y:  0.1
                                    
            BoxLayout:
                                                
                orientation: 'horizontal'
                height: 10
                dropdown1: dropdown1.__self__
                                                
                Button:
                    id:bbbttn
                    text: "Fichier"
                    font_size: "15sp"
                    on_parent: dropdown1.dismiss()
                    on_release: dropdown1.open(self)

                    DropDown:    
                        id: dropdown1

                        Button:
                            id:bouton_ouvrir
                            text: 'Ouvrir'
                            size_hint_y: None
                            on_release: ecranfct.show_load()
                        Button:
                            id: bouton_sauvegarder
                            text: 'Sauvegarder Log'
                            size_hint_y: None
                            on_release: ecranfct.show_save()
                        Button:
                            id:boutton_quitter
                            text: 'Quitter'

                            size_hint_y: None
                            on_release: ecranfct.quitter()

                Button:
                    text: "Affichage"
                    font_size: "15sp"
                Button:
                    text: "Options"
                    font_size: "15sp"

            BoxLayout:


        BoxLayout:
            size_hint_y:  0.2   
            BoxLayout:
                
                BoxLayout:
                    
                    BoxLayout:

                    BoxLayout:
                        
                
                    
                BoxLayout:
                    
                    id:bl_titre
                    orientation:'horizontal'
                    Label:
                        id: titre_echantillon
                        font_size: "30sp"
                        color: [256, 256, 256, 1]
                        text: ecranfct.titre
                    BoxLayout:  
        BoxLayout:
            
            BoxLayout:
                padding :20
                size_hint_x:  0.2
                orientation: 'vertical'

                BoxLayout:
                    spacing: 20 
                    orientation: 'vertical'
                    Button:
                        
                        text: 'Comparaison'
                        
                            
                    
                            
                BoxLayout:
                        
            
            BoxLayout:
                canvas:
                    Color:
                        #rgba: 193, 66, 66, 1
            
                Label:
                    
                    
                    font_size: "15sp"
                    text_size: self.height, None
                    id:corps_de_text
                    color: [256, 256, 256, 1]
                    text: ecranfct.corps
        
        


<LoadDialog>:
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        FileChooserIconView:
            id: filechooser
            path: './'

        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: "Annuler"
                on_release: root.cancel()
               

            Button:
                text: "Ouvrir"
                on_release: root.load(filechooser.path, filechooser.selection)
                

<SaveDialog>:
    text_input: text_input
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        FileChooserIconView:
            id: filechooser
            on_selection: text_input.text = self.selection and self.selection[0] or ''
            path: "./"

        TextInput:
            id: text_input
            size_hint_y: None
            height: 30
            multiline: False

        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: "Cancel"
                on_release: root.cancel()

            Button:
                text: "Save"
                on_release: root.save(filechooser.path, text_input.text)